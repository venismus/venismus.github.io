<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Profil • VENISMUS</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="header">
  <div class="brand">VENISMUS</div>
  <nav class="nav">
    <a href="index.html">Úvod</a>
    <a href="chat.html">Chat</a>
    <a href="generator.html">Generátor</a>
    <a href="knihovna.html">Knihovna</a>
    <a href="ceny.html">Ceny</a>
    <a href="profil.html">Můj profil</a>
  </nav>
</header>
<div class="container">

<h1>Můj profil</h1>
<div class="card">
  <p class="badge">Uživatel</p>
  <p id="u"></p>
  <button class="btn ghost" onclick="auth.signout()">Odhlásit</button>
</div>
<script>
requireAuth();
const me = auth.get();
document.getElementById('u').textContent = me ? me.email : '—';
</script>

</div>
<footer>© 2025 Venismus</footer>
<script>
const $ = (sel, root=document)=>root.querySelector(sel);
const $$ = (sel, root=document)=>[...root.querySelectorAll(sel)];

const auth = {
  get(){ return JSON.parse(localStorage.getItem('ven_auth')||'null'); },
  set(user){ localStorage.setItem('ven_auth', JSON.stringify(user)); },
  signout(){ localStorage.removeItem('ven_auth'); location.href='index.html'; }
};

function requireAuth(){
  if(!auth.get()){ location.href='signin.html'; }
}

function toast(msg){
  const t = document.createElement('div');
  t.textContent = msg;
  Object.assign(t.style,{position:'fixed',bottom:'20px',left:'50%',transform:'translateX(-50%)',padding:'10px 14px',border:'1px solid rgba(163,107,255,.35)',background:'#0e0c12',color:'#e7d7ff',borderRadius:'12px',boxShadow:'0 0 .6rem rgba(163,107,255,.5)'});
  document.body.appendChild(t);
  setTimeout(()=>t.remove(),2000);
}

// demo image generator stub
function fakeGenerate(prompt, style, power){
  const url = `https://picsum.photos/seed/${encodeURIComponent(prompt+style+power)}/512/512`;
  return url;
}
</script>
<script>requireAuth();</script>
</body>
</html>